<form class="form" [formGroup]="authForm" (ngSubmit)="onSubmit()">
  <h3 tuiTitle="l">{{ type() === 'login' ? 'Login' : 'Register' }}</h3>
  <tui-textfield iconStart="@tui.user" class="form-item">
    <label tuiLabel>Username</label>
    <input placeholder="@shoqqan" tuiTextfield formControlName="name" />
  </tui-textfield>
  <div *ngIf="authForm.get('name')?.invalid && authForm.get('name')?.touched" class="error">
    <span *ngIf="authForm.get('name')?.errors?.['required']">Username обязателен</span>
    <span *ngIf="authForm.get('name')?.errors?.['minlength']"
      >Username должен содержать минимум 3 символа</span
    >
  </div>
  <tui-textfield iconStart="@tui.lock" class="form-item">
    <label tuiLabel>Password</label>
    <input placeholder="********" tuiTextfield formControlName="password" type="password" />
  </tui-textfield>

  <tui-textfield *ngIf="type() === 'register'" iconStart="@tui.lock-keyhole" class="form-item">
    <label tuiLabel>Confirm Password</label>
    <input placeholder="********" tuiTextfield formControlName="secondPassword" type="password" />
  </tui-textfield>
  <button
    tuiButton
    appearance="primary"
    type="submit"
    [loading]="isLoading()"
    [disabled]="authForm.invalid"
  >
    {{ type() === 'login' ? 'Login' : 'Register' }}
  </button>
</form>
